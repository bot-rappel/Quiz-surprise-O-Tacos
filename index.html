<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz O'Tacos - Groupe AMAUH</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #f97316 0%, #dc2626 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .card { background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); padding: 30px; margin-bottom: 20px; }
        h1 { color: #f97316; font-size: 2.5em; text-align: center; margin-bottom: 10px; }
        h2 { color: #1f2937; font-size: 1.8em; margin-bottom: 20px; }
        h3 { color: #374151; font-size: 1.3em; margin-bottom: 15px; }
        .subtitle { text-align: center; color: #6b7280; margin-bottom: 30px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 0.9em; }
        input, select { width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 1em; }
        input:focus, select:focus { outline: none; border-color: #f97316; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .btn-primary { background: linear-gradient(135deg, #f97316, #dc2626); color: white; width: 100%; padding: 16px; font-size: 1.1em; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(249, 115, 22, 0.4); }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-secondary:hover { background: #4b5563; }
        .btn-success { background: #10b981; color: white; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-small { padding: 8px 16px; font-size: 0.9em; }
        .quiz-size { background: #fff7ed; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .size-options { display: flex; gap: 12px; flex-wrap: wrap; }
        .size-btn { padding: 12px 24px; border: 2px solid #fed7aa; background: white; color: #9a3412; border-radius: 8px; font-weight: 600; cursor: pointer; }
        .size-btn.active { background: #f97316; color: white; border-color: #f97316; }
        .option-btn { width: 100%; text-align: left; padding: 16px; margin-bottom: 12px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; font-size: 1em; cursor: pointer; transition: all 0.2s; }
        .option-btn:hover { border-color: #f97316; background: #fff7ed; }
        .option-letter { display: inline-block; width: 32px; height: 32px; background: #fff7ed; color: #f97316; border-radius: 50%; text-align: center; line-height: 32px; font-weight: bold; margin-right: 12px; }
        .progress-bar { width: 100%; height: 8px; background: #e5e7eb; border-radius: 4px; overflow: hidden; margin-bottom: 20px; }
        .progress-fill { height: 100%; background: #f97316; transition: width 0.3s; }
        .result-card { border-left: 4px solid #10b981; padding: 16px; margin-bottom: 12px; border-radius: 8px; }
        .result-card.wrong { border-left-color: #ef4444; background: #fef2f2; }
        .result-card.correct { background: #f0fdf4; }
        .score-display { background: linear-gradient(135deg, #f97316, #dc2626); color: white; padding: 40px; border-radius: 12px; text-align: center; margin-bottom: 30px; }
        .score-number { font-size: 4em; font-weight: bold; margin-bottom: 10px; }
        .icon-card { text-align: center; padding: 30px; background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; transition: all 0.3s; }
        .icon-card:hover { transform: translateY(-5px); box-shadow: 0 5px 20px rgba(0,0,0,0.15); }
        .icon { font-size: 3em; margin-bottom: 10px; }
        .hidden { display: none; }
        .question-list { max-height: 400px; overflow-y: auto; }
        .question-item { border: 1px solid #e5e7eb; padding: 16px; border-radius: 8px; margin-bottom: 12px; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .text-success { color: #10b981; font-weight: 600; }
        .text-small { font-size: 0.9em; color: #6b7280; }
        @media (max-width: 768px) { h1 { font-size: 2em; } .size-options { flex-direction: column; } }
    </style>
</head>
<body>
    <div class="container" id="app"></div>

    <script>
        const questions = [
            { question: "Quelle est la température minimale requise pour le lavage des mains ?", options: ["38°C", "25°C", "42°C", "50°C"], answer: "38°C" },
            { question: "Qu'est-ce qui est strictement interdit en cuisine ?", options: ["Torchons et éponges", "Ustensiles en plastique", "Serviettes en papier", "Crayons alimentaires"], answer: "Torchons et éponges" },
            { question: "Quelle est la taille maximale du O'tacos ?", options: ["M", "L", "XL", "Gigatacos"], answer: "Gigatacos" },
            { question: "Taux de composés polaires à ne pas dépasser dans l'huile ?", options: ["23%", "14%", "10%", "30%"], answer: "23%" },
            { question: "Combien de fois par jour contrôler la température des chambres froides ?", options: ["Une fois par jour", "Deux fois par jour", "Trois fois par jour", "Toutes les heures"], answer: "Deux fois par jour" },
            { question: "Temps maximum conservation produit décongelé au froid positif ?", options: ["24 heures", "48 heures", "72 heures", "96 heures"], answer: "72 heures" },
            { question: "Ingrédient unique dans les O'tacos ?", options: ["Sauce barbecue", "Sauce fromagère", "Moutarde", "Sauce ketchup"], answer: "Sauce fromagère" },
            { question: "Délai maximal entre prise commande et livraison O'tacos ?", options: ["2 minutes", "4 minutes", "6 minutes", "8 minutes"], answer: "4 minutes" },
            { question: "Comment étiqueter les produits après décongélation ?", options: ["Avec date d'étiquetage", "Avec date limite uniquement", "Avec date et heure décongélation et fin", "Avec nom produit uniquement"], answer: "Avec date et heure décongélation et fin" },
            { question: "Quel appareil mesure la qualité de l'huile de friture ?", options: ["Thermomètre à sonde", "Thermo-hygromètre", "Le testo 270", "Tensiomètre"], answer: "Le testo 270" },
            { question: "Un des quatre critères fondamentaux satisfaction client ?", options: ["Rapidité du service", "Offre de boissons", "Variété desserts", "Ambiance musicale"], answer: "Rapidité du service" },
            { question: "Température minimale à coeur pour produits chauds cuits ?", options: ["55°C", "60°C", "65°C", "70°C"], answer: "65°C" },
            { question: "Que faire en cas de détection de nuisibles ?", options: ["Noter dans cahier", "Contacter société spécialisée", "Fermer 24h", "Déplacer produits"], answer: "Contacter société spécialisée" },
            { question: "Taille friteuse pour viandes panées ?", options: ["Petite friteuse", "Taille moyenne", "Grande friteuse", "Aucune information spécifique"], answer: "Aucune information spécifique" },
            { question: "Quel élément ne doit pas toucher l'huile avec le testo 270 ?", options: ["Le manche du testo", "Aliments frits", "L'eau", "Huile fraîche"], answer: "Le manche du testo" },
            { question: "Fréquence nettoyage machines milk-shake et glace ?", options: ["Une fois par semaine", "Deux fois par semaine", "Tous les jours", "Une fois par mois"], answer: "Tous les jours" },
            { question: "Produit dépassé sa date limite d'utilisation ?", options: ["Noter et conserver", "Noter et jeter immédiatement", "Changer étiquette", "Congeler"], answer: "Noter et jeter immédiatement" },
            { question: "Procédure éviter contamination croisée ?", options: ["Même matériel pour tout", "Manipuler séparément crus et cuits", "Laver mains toutes les heures", "Mélanger crus et cuits"], answer: "Manipuler séparément crus et cuits" },
            { question: "Taille O'tacos vendue en version sucrée ?", options: ["M", "L", "XL", "O'mignon"], answer: "O'mignon" },
            { question: "Comment stocker suppléments congelés ?", options: ["Température ambiante", "Froid positif", "Froid négatif", "Étagères air libre"], answer: "Froid négatif" },
            { question: "Critère primordial choix fournisseur ?", options: ["Prix produits", "Proximité", "Référencement O'Tacos", "Disponibilité immédiate"], answer: "Référencement O'Tacos" },
            { question: "Règle téléphones portables en cuisine ?", options: ["Autorisés si propres", "Rangés zone spécifique", "Que pendant pauses", "Strictement interdits"], answer: "Strictement interdits" },
            { question: "Comment traiter zone propre ?", options: ["Stockage temporaire", "Zone sale jusqu'au nettoyage", "À ne pas franchir par produits sales", "Entreposage déchets"], answer: "À ne pas franchir par produits sales" },
            { question: "Temps attendre avant mesurer qualité huile après cuisson ?", options: ["Immédiatement", "1 minute", "5 minutes", "10 minutes"], answer: "5 minutes" },
            { question: "Quantité combinaisons possibles O'Tacos ?", options: ["100000", "80000", "50000", "20000"], answer: "80000" },
            { question: "Conservation sauce fromagère préparée ?", options: ["Température ambiante", "Froid négatif", "Étuve maintien chaud", "Congélateur"], answer: "Étuve maintien chaud" },
            { question: "Que faire en cas panne électricité ?", options: ["Continuer servir", "Fermer temporairement", "Appeler technicien continuer", "Utiliser générateurs"], answer: "Fermer temporairement" },
            { question: "Quelles viandes cuites au four ?", options: ["Cordons bleus nuggets", "Viande hachée et poulet", "Poulet pané et frites", "Merguez et jalapeños"], answer: "Viande hachée et poulet" },
            { question: "Procédure nettoyage surfaces cuisine ?", options: ["Eau froide", "Torchons réutilisables", "Plan de nettoyage défini", "Éponge chaque surface"], answer: "Plan de nettoyage défini" },
            { question: "Temps attente maximum client avant recevoir O'tacos ?", options: ["2 minutes", "4 minutes", "6 minutes", "8 minutes"], answer: "4 minutes" },
            { question: "Température minimale cuisson viandes ?", options: ["50°C", "60°C", "65°C", "70°C"], answer: "65°C" },
            { question: "Que signifie marche en avant ?", options: ["Suivre instructions client", "Séparer crus et cuits", "Flux produits propre vers sale", "Manipuler avec précaution"], answer: "Flux produits propre vers sale" },
            { question: "Combien de tailles O'Tacos disponibles ?", options: ["3 tailles", "4 tailles", "5 tailles", "6 tailles"], answer: "5 tailles" },
            { question: "Fréquence prise température chambres froides ?", options: ["Une fois par jour", "Deux fois par jour", "Trois fois par jour", "Toutes les heures"], answer: "Deux fois par jour" },
            { question: "Boisson non incluse dans menus ?", options: ["Coca-Cola", "Fanta", "Jus de pomme", "O'Shake"], answer: "Jus de pomme" },
            { question: "Première étape système HACCP ?", options: ["Fixer seuil danger", "Créer dossier archivage", "Analyser dangers existants", "Contrôler température"], answer: "Analyser dangers existants" },
            { question: "Durée vie maximale viandes cuites dans étuve ?", options: ["1 heure", "2 heures", "4 heures", "6 heures"], answer: "2 heures" },
            { question: "Appareil vérifier température produits surgelés ?", options: ["Thermomètre dilatation", "Thermomètre à sonde", "Testo 270", "Chronomètre"], answer: "Thermomètre à sonde" },
            { question: "Zone restaurant considérée propre ?", options: ["Comptoir", "Réserve", "Cuisine", "Toilettes"], answer: "Cuisine" },
            { question: "Réaction si température produit non conforme ?", options: ["Continuer cuisson", "Noter erreur", "Actions correctives immédiatement", "Ne pas prendre compte"], answer: "Actions correctives immédiatement" },
            { question: "Durée maximale conservation frites après cuisson ?", options: ["10 minutes", "20 minutes", "30 minutes", "40 minutes"], answer: "30 minutes" },
            { question: "Taux maximum composés polaires huile friture ?", options: ["10%", "15%", "20%", "23%"], answer: "23%" },
            { question: "Comment préparer sauce fromagère ?", options: ["Mélangée à froid", "Réchauffée étuve", "Cuite friteuse", "Servie température ambiante"], answer: "Réchauffée étuve" },
            { question: "Ingrédients jamais utilisés O'tacos sucré ?", options: ["Sauce chocolat", "Viande hachée", "Fruits", "Sauce caramel"], answer: "Viande hachée" },
            { question: "Que faire si problème hygiène observé ?", options: ["Ignorer", "Signaler manager immédiatement", "Attendre fin journée", "Corriger seul"], answer: "Signaler manager immédiatement" },
            { question: "Temps cuisson moyen viandes à frire ?", options: ["2 minutes", "3 minutes", "5 minutes", "7 minutes"], answer: "5 minutes" },
            { question: "Que signifie HACCP ?", options: ["Hazard Analysis Critical Control Point", "Healthy Clean Cooking Procedures", "Hazard Avoidance Cleaning Process", "Health Safety Cooking Policy"], answer: "Hazard Analysis Critical Control Point" },
            { question: "Sauce accompagnant O'Tacos sucrés ?", options: ["Sauce fromagère", "Sauce barbecue", "Sauce chocolat", "Sauce ketchup"], answer: "Sauce chocolat" },
            { question: "Gérer produit température trop élevée après cuisson ?", options: ["Mettre au congélateur", "Jeter immédiatement", "Laisser refroidir", "Réchauffer"], answer: "Jeter immédiatement" },
            { question: "Méthode éviter contamination croisée crus-cuits ?", options: ["Petits matériels différents", "Laver mains après crus", "Mélanger contenants séparés", "Tout même endroit"], answer: "Petits matériels différents" },
            { question: "Temps service O'tacos après commande ?", options: ["2 minutes", "4 minutes", "6 minutes", "8 minutes"], answer: "4 minutes" },
            { question: "Règle port tenues de travail ?", options: ["Portées extérieur OK", "Propres pas extérieur", "Changées toutes 2 semaines", "Facultatives"], answer: "Propres pas extérieur" },
            { question: "Procédure lavage mains cuisine ?", options: ["Une fois par jour", "Savon 20 secondes minimum", "Eau froide", "Uniquement gel hydroalcoolique"], answer: "Savon 20 secondes minimum" },
            { question: "Température conservation chambres froides négatives ?", options: ["0°C à 4°C", "-18°C à -23°C", "4°C à 10°C", "-10°C à -15°C"], answer: "-18°C à -23°C" },
            { question: "Cause principale présence nuisibles ?", options: ["Mauvaise gestion déchets", "Température trop basse", "Nettoyage trop fréquent", "Ingrédients périmés"], answer: "Mauvaise gestion déchets" },
            { question: "Poids recommandé O'tacos taille M ?", options: ["300g", "400g", "500g", "600g"], answer: "400g" },
            { question: "Produit dépasse limite température après cuisson ?", options: ["Réduire température", "Jeter immédiatement", "Refroidir chambre froide", "Température ambiante"], answer: "Jeter immédiatement" },
            { question: "Taille O'tacos avec gratinage ?", options: ["O'mignon", "M", "L", "XL"], answer: "XL" },
            { question: "Fréquence contrôles sécurité alimentaire par jour ?", options: ["Une fois", "Deux fois", "Trois fois", "Toutes les heures"], answer: "Deux fois" },
            { question: "Durée conservation sauces comptoir froid après ouverture ?", options: ["24 heures", "48 heures", "72 heures", "96 heures"], answer: "72 heures" },
            { question: "Client se plaint qualité O'tacos ?", options: ["Ignorer plainte", "Remplacer après vérification", "Réduction prochaine", "Expliquer conformité"], answer: "Remplacer après vérification" },
            { question: "Temps maintien viandes cuites étuve chaude ?", options: ["1 heure", "2 heures", "3 heures", "4 heures"], answer: "2 heures" },
            { question: "Taille Gigatacos ?", options: ["1 kg", "1,5 kg", "2 kg", "2,5 kg"], answer: "2 kg" },
            { question: "Comment stocker boissons fraîches ?", options: ["Température ambiante", "Froid négatif", "Froid positif", "Réserve sèche"], answer: "Froid positif" },
            { question: "Marche en avant dans le temps ?", options: ["Séparer zones propres sales", "Mêmes espaces moments différents", "Augmenter productivité", "Servir selon arrivée"], answer: "Mêmes espaces moments différents" },
            { question: "Contrôles température obligatoires chambres froides par jour ?", options: ["1", "2", "3", "4"], answer: "2" },
            { question: "Huile dépasse 23% composés polaires ?", options: ["Continuer fin journée", "Changer immédiatement", "Diluer huile neuve", "Réduire température"], answer: "Changer immédiatement" },
            { question: "Combien viandes différentes pour composer O'tacos ?", options: ["1", "2", "3", "4"], answer: "2" },
            { question: "Règle contrôle produits après réception ?", options: ["Même équipement tout", "Vérifier température réfrigérés congelés", "Ignorer dates limites", "Mélanger périmés"], answer: "Vérifier température réfrigérés congelés" },
            { question: "Taille maximale O'tacos pour livraison ?", options: ["M", "L", "XL", "Gigatacos"], answer: "XL" },
            { question: "Température idéale conservation boissons ?", options: ["0°C", "Entre 1°C et 4°C", "Entre 4°C et 10°C", "Température ambiante"], answer: "Entre 1°C et 4°C" },
            { question: "Que utiliser nettoyer surfaces préparation ?", options: ["Torchons réutilisables", "Lingettes désinfectantes usage unique", "Éponge classique", "Chiffon humide"], answer: "Lingettes désinfectantes usage unique" },
            { question: "Combien suppléments ajoutés dans O'tacos ?", options: ["1", "2", "3", "Autant que souhaité"], answer: "Autant que souhaité" },
            { question: "Que faire coupure courant ?", options: ["Servir clients", "Fermer immédiatement", "Continuer préparer", "Attendre courant"], answer: "Fermer immédiatement" },
            { question: "Raison contrôler qualité huile friture ?", options: ["Conserver longtemps", "Éviter contamination", "Qualité produits et santé clients", "Réduire coûts"], answer: "Qualité produits et santé clients" },
            { question: "Ingrédient avec signes contamination ?", options: ["Cuisiner immédiatement", "Signaler et jeter", "Congeler", "Utiliser dernier recours"], answer: "Signaler et jeter" },
            { question: "Fréquence vérification hygiène personnel par jour ?", options: ["Une fois", "Deux fois", "Toutes les heures", "En continu"], answer: "En continu" },
            { question: "Que utiliser température aliments cuits ?", options: ["Thermomètre dilatation", "Thermomètre à sonde", "Chronomètre", "Testo 270"], answer: "Thermomètre à sonde" },
            { question: "Comment éviter contamination croisée restaurant ?", options: ["Nettoyer toutes 2h", "Petit matériel différent crus-cuits", "Mélanger après cuisson", "Même zone"], answer: "Petit matériel différent crus-cuits" },
            { question: "Machine milkshake pas nettoyée correctement ?", options: ["Nettoyer début lendemain", "Ne pas utiliser tant que pas nettoyée", "Continuer utiliser", "Demander client"], answer: "Ne pas utiliser tant que pas nettoyée" },
            { question: "Température maximale froid positif ?", options: ["2°C", "4°C", "6°C", "8°C"], answer: "4°C" },
            { question: "Temps conservation produits comptoir après ouverture ?", options: ["24 heures", "48 heures", "72 heures", "96 heures"], answer: "72 heures" },
            { question: "HACCP pour restaurant signifie ?", options: ["Méthode analyse risques alimentaires", "Guide sécurité livraison", "Certification qualité", "Test conformité équipements"], answer: "Méthode analyse risques alimentaires" },
            { question: "Comment employés doivent s'habiller zones préparation ?", options: ["Tenue ville propre", "Tenue travail propre adaptée", "Jeans t-shirt", "Vêtements personnels tablier"], answer: "Tenue travail propre adaptée" },
            { question: "Fonction distributeurs savon anti-bactérien ?", options: ["Économiser savon", "Faciliter nettoyage surfaces", "Lavage mains sans contact manuel", "Réduire coûts"], answer: "Lavage mains sans contact manuel" },
            { question: "Produit dépassé date limite consommation ?", options: ["Noter registre utiliser", "Conserver froid négatif", "Jeter immédiatement", "Changer étiquette"], answer: "Jeter immédiatement" },
            { question: "Conservation frites après cuisson ?", options: ["10 minutes", "20 minutes", "30 minutes", "40 minutes"], answer: "30 minutes" },
            { question: "Vérifier réception produits alimentaires ?", options: ["Poids cartons", "État cartons et température", "Date étiquetage", "Emplacement stockage"], answer: "État cartons et température" },
            { question: "Que signifie produits de négoce ?", options: ["Personnalisables clients", "Référencés garantir qualité", "Achat libre franchisé", "Uniquement rupture"], answer: "Référencés garantir qualité" },
            { question: "Règle port gants restaurant ?", options: ["Facultatifs", "Changés après manipulation crus", "Portés toute journée", "Pas nécessaires si propres"], answer: "Changés après manipulation crus" },
            { question: "Fréquence nettoyage équipements ?", options: ["Une fois semaine", "Tous les jours", "Toutes 2 semaines", "À chaque utilisation"], answer: "Tous les jours" },
            { question: "Marche en avant dans espace signifie ?", options: ["Déplacer ordre préparation", "Séparer zones propres sales", "Flux continu clients", "Organiser livraisons"], answer: "Séparer zones propres sales" },
            { question: "Produit jamais utilisé O'tacos sucré ?", options: ["Sauce caramel", "Fruits frais", "Viandes", "Chocolat"], answer: "Viandes" },
            { question: "Temps de maintien viandes cuites signifie ?", options: ["Temps cuisson", "Temps conservation après cuisson température", "Temps préparer ingrédients", "Temps attente cuisson-service"], answer: "Temps conservation après cuisson température" },
            { question: "Conservation sauce fromagère après préparation ?", options: ["Réfrigérateur", "Congélateur", "Étuve maintien chaud", "Température ambiante"], answer: "Étuve maintien chaud" },
            { question: "Taille O'tacos O'mignon ?", options: ["300g", "250g", "200g", "150g"], answer: "200g" },
            { question: "Délai maximum servir client après commande ?", options: ["4 minutes", "5 minutes", "6 minutes", "7 minutes"], answer: "4 minutes" },
            { question: "Vérifier avant utiliser produit congelé ?", options: ["Température pièce", "Couleur produit", "Date limite et température stockage", "Taille emballage"], answer: "Date limite et température stockage" },
            { question: "Produit décongélation dépassé date limite ?", options: ["Remettre congélateur", "Cuisiner immédiatement", "Jeter immédiatement", "Conserver froid positif"], answer: "Jeter immédiatement" },
            { question: "Caractérise cuisson viandes O'Tacos ?", options: ["Toutes frites", "Grillées sur gril", "Certaines four autres friteuse", "Toutes micro-ondes"], answer: "Certaines four autres friteuse" },
            { question: "Produits assemblés Gigatacos ?", options: ["3", "4", "5", "Autant que souhaité"], answer: "Autant que souhaité" },
            { question: "Client allergique ingrédient ?", options: ["Offrir réduction", "Proposer autre produit", "Conseiller vérifier allergènes avant", "Préparer mêmes équipements"], answer: "Conseiller vérifier allergènes avant" },
            { question: "Durée stockage viandes froid négatif ?", options: ["3 jours", "7 jours", "15 jours", "Selon date limite"], answer: "Selon date limite" },
            { question: "Que faire avant servir O'tacos client ?", options: ["Vérifier ticket caisse commande", "Réchauffer dernière fois", "Ajouter suppléments non demandés", "Servir sans vérification"], answer: "Vérifier ticket caisse commande" },
            { question: "Contrôles nuisibles par an entreprise spécialisée ?", options: ["Une fois", "Deux fois", "Trois fois", "Quatre fois"], answer: "Quatre fois" },
            { question: "Température chambre froide supérieure norme ?", options: ["Continuer utiliser", "Jeter tous produits", "Actions correctives immédiates vérifier sonde", "Laisser refroidir"], answer: "Actions correctives immédiates vérifier sonde" },
            { question: "Étiquette produit illisible ou manquante ?", options: ["Ne pas utiliser tant que pas mise à jour", "Utiliser immédiatement", "Remplacer par nouvelle", "Conserver froid négatif"], answer: "Ne pas utiliser tant que pas mise à jour" },
            { question: "Règle port bijoux en cuisine ?", options: ["Autorisés si discrets", "Tous strictement interdits", "Bagues OK pas bracelets", "Colliers autorisés"], answer: "Tous strictement interdits" },
            { question: "Tailles O'tacos disponibles ?", options: ["3", "4", "5", "6"], answer: "5" },
            { question: "Employé casse thermomètre en cuisine ?", options: ["Continuer sans", "Remplacer immédiatement et signaler", "Ramasser jeter", "Ignorer incident"], answer: "Remplacer immédiatement et signaler" },
            { question: "Durée conservation produits dans étuve ?", options: ["1 heure", "2 heures", "3 heures", "4 heures"], answer: "2 heures" },
            { question: "Présence nuisibles dans restaurant ?", options: ["Augmenter température froides", "Continuer sans modification", "Appeler société plan lutte", "Fermer sans prévenir"], answer: "Appeler société plan lutte" },
            { question: "Produits DLC dépassée ?", options: ["Utiliser rapidement", "Réétiqueter", "Jeter immédiatement", "Stocker autre zone"], answer: "Jeter immédiatement" },
            { question: "Type viande O'tacos sucré ?", options: ["Viande hachée", "Poulet grillé", "Cordons bleus", "Aucune viande utilisée"], answer: "Aucune viande utilisée" },
            { question: "Terme gratinage signifie ?", options: ["Ajouter sauce fromagère", "Cuire plus longtemps", "Passer sous grill dorer surface", "Ajouter frites"], answer: "Passer sous grill dorer surface" },
            { question: "Priorité absolue préparation O'tacos ?", options: ["Rapidité commande", "Satisfaction client", "Respect sécurité alimentaire", "Esthétique"], answer: "Respect sécurité alimentaire" },
            { question: "Temps maximum produit meuble maintien chaud ?", options: ["15 minutes", "30 minutes", "1 heure", "2 heures"], answer: "2 heures" },
            { question: "Client demande ingrédient hors procédures ?", options: ["Accepter immédiatement", "Expliquer pas possible sécurité", "Ajouter sans vérifier", "Contacter responsable"], answer: "Expliquer pas possible sécurité" },
            { question: "Première chose avant préparer O'tacos ?", options: ["Vérifier ingrédients disponibles", "Vérifier ticket caisse", "Chauffer tortilla", "Laver mains selon procédure"], answer: "Laver mains selon procédure" },
            { question: "Équipement cuisson ne fonctionne pas ?", options: ["Continuer utiliser chaud", "Éteindre et signaler immédiatement", "Réparer soi-même", "Utiliser pour crus"], answer: "Éteindre et signaler immédiatement" },
            { question: "Collègue ne respecte pas règles hygiène ?", options: ["Ignorer situation", "Signaler immédiatement responsable", "Attendre fin journée", "Corriger discrètement"], answer: "Signaler immédiatement responsable" },
            { question: "Température produit cuit pas 65°C après cuisson ?", options: ["Refroidir rapidement", "Remettre cuire jusqu'à bonne température", "Servir immédiatement", "Congeler"], answer: "Remettre cuire jusqu'à bonne température" },
            { question: "Comment classées zones restaurant ?", options: ["Niveaux importance", "Par couleur", "Zones propres et sales", "Zones chaudes froides"], answer: "Zones propres et sales" },
            { question: "Temps produit surgelé froid positif après décongélation ?", options: ["24 heures", "48 heures", "72 heures", "96 heures"], answer: "72 heures" },
            { question: "Température minimale maintenir produits cuits meuble chaud ?", options: ["55°C", "60°C", "65°C", "70°C"], answer: "65°C" },
            { question: "Meilleure méthode vérifier cuisson O'tacos ?", options: ["Toucher si chaud", "Thermomètre sonde température", "Couper deux vérifier", "Observer grillage"], answer: "Thermomètre sonde température" },
            { question: "Avant servir O'tacos au client ?", options: ["Demander vérifier", "Vérifier commande conforme ticket", "Ajouter suppléments gratuits", "Emballer rapidement"], answer: "Vérifier commande conforme ticket" },
            { question: "Produits ajoutés O'tacos XL ?", options: ["1 supplément", "2 suppléments", "3 suppléments", "Autant que souhaité"], answer: "Autant que souhaité" },
            { question: "HACCP dans cadre restaurant signifie ?", options: ["Organiser service", "Gestion plaintes", "Analyse dangers contrôle points critiques", "Technique cuisson"], answer: "Analyse dangers contrôle points critiques" },
            { question: "Fréquence nettoyage surfaces travail par jour ?", options: ["Une fois", "Deux fois", "Après chaque service", "Selon plan nettoyage"], answer: "Selon plan nettoyage" },
            { question: "Élément distinctif O'tacos autres tacos ?", options: ["Sa taille", "Présence frites intérieur", "Cuisson grillée", "Sauce fromagère unique"], answer: "Sauce fromagère unique" },
            { question: "Tailles O'tacos disponibles total ?", options: ["2 tailles", "3 tailles", "5 tailles", "6 tailles"], answer: "5 tailles" },
            { question: "Temps maximum viandes cuites conservées étuve ?", options: ["1 heure", "2 heures", "3 heures", "4 heures"], answer: "2 heures" },
            { question: "Éviter contamination croisée restaurant ?", options: ["Même ustensile plusieurs", "Porter gants permanence", "Manipuler séparément crus-cuits matériel différent", "Mélanger après cuisson"], answer: "Manipuler séparément crus-cuits matériel différent" },
            { question: "Plonger dans contexte cuisine signifie ?", options: ["Nettoyer eau bouillante", "Cuire viandes friteuse", "Tremper frites sauce", "Maintenir viandes étuve"], answer: "Cuire viandes friteuse" },
            { question: "Raison principale suivre normes HACCP ?", options: ["Améliorer esthétique", "Optimiser coûts", "Assurer sécurité alimentaire clients", "Respecter rapidité"], answer: "Assurer sécurité alimentaire clients" },
            { question: "Fréquence contrôle température chambres froides ?", options: ["Une fois jour", "Deux fois jour", "Trois fois jour", "Toutes heures"], answer: "Deux fois jour" },
            { question: "Seuil critique composés polaires huile avant changement ?", options: ["15%", "18%", "20%", "23%"], answer: "23%" },
            { question: "Employé constate température produit dépasse normes ?", options: ["Continuer utiliser", "Noter conserver", "Jeter immédiatement", "Réchauffer davantage"], answer: "Jeter immédiatement" },
            { question: "Contrôles nuisibles par an entreprise spécialisée ?", options: ["Une fois", "Deux fois", "Trois fois", "Quatre fois"], answer: "Quatre fois" },
            { question: "Température chambre froide supérieure norme ?", options: ["Continuer utiliser", "Jeter tous produits", "Actions correctives immédiates", "Laisser refroidir"], answer: "Actions correctives immédiates" },
            { question: "Étiquette produit illisible ou manquante ?", options: ["Ne pas utiliser", "Utiliser immédiatement", "Remplacer par nouvelle", "Conserver froid négatif"], answer: "Ne pas utiliser" },
            { question: "Règle port bijoux en cuisine ?", options: ["Autorisés si discrets", "Tous strictement interdits", "Bagues OK", "Colliers autorisés"], answer: "Tous strictement interdits" },
            { question: "Nombre tailles O'tacos ?", options: ["3", "4", "5", "6"], answer: "5" },
            { question: "Employé casse thermomètre ?", options: ["Continuer sans", "Remplacer et signaler", "Ramasser jeter", "Ignorer"], answer: "Remplacer et signaler" },
            { question: "Durée produits dans étuve ?", options: ["1 heure", "2 heures", "3 heures", "4 heures"], answer: "2 heures" },
            { question: "Présence nuisibles ?", options: ["Augmenter température", "Continuer", "Appeler société spécialisée", "Fermer"], answer: "Appeler société spécialisée" },
            { question: "DLC dépassée ?", options: ["Utiliser rapidement", "Réétiqueter", "Jeter immédiatement", "Stocker"], answer: "Jeter immédiatement" },
            { question: "Viande O'tacos sucré ?", options: ["Viande hachée", "Poulet", "Cordons bleus", "Aucune"], answer: "Aucune" },
            { question: "Gratinage signifie ?", options: ["Ajouter sauce", "Cuire longtemps", "Passer sous grill", "Ajouter frites"], answer: "Passer sous grill" },
            { question: "Priorité préparation O'tacos ?", options: ["Rapidité", "Satisfaction", "Sécurité alimentaire", "Esthétique"], answer: "Sécurité alimentaire" },
            { question: "Temps meuble maintien chaud ?", options: ["15 minutes", "30 minutes", "1 heure", "2 heures"], answer: "2 heures" },
            { question: "Client demande hors procédures ?", options: ["Accepter", "Expliquer pas possible", "Ajouter", "Contacter responsable"], answer: "Expliquer pas possible" },
            { question: "Première chose préparer O'tacos ?", options: ["Vérifier ingrédients", "Vérifier ticket", "Chauffer tortilla", "Laver mains"], answer: "Laver mains" },
            { question: "Équipement ne fonctionne pas ?", options: ["Continuer", "Éteindre et signaler", "Réparer", "Utiliser pour crus"], answer: "Éteindre et signaler" },
            { question: "Collègue ne respecte hygiène ?", options: ["Ignorer", "Signaler responsable", "Attendre fin", "Corriger"], answer: "Signaler responsable" },
            { question: "Produit pas 65°C après cuisson ?", options: ["Refroidir", "Remettre cuire", "Servir", "Congeler"], answer: "Remettre cuire" },
            { question: "Classification zones restaurant ?", options: ["Importance", "Couleur", "Propres et sales", "Chaudes froides"], answer: "Propres et sales" },
            { question: "Surgelé froid positif après décongélation ?", options: ["24 heures", "48 heures", "72 heures", "96 heures"], answer: "72 heures" }
        ];

        const restaurants = ['Louvain-La-Neuve', 'Auderghem', 'Uccle', 'Halle', 'Soignies', 'Ath', 'Renaix', 'Mouscron'];

        let state = {
            view: 'home',
            employeeName: '',
            restaurant: '',
            quizSize: 10,
            currentQuiz: [],
            currentQuestion: 0,
            answers: [],
            history: JSON.parse(localStorage.getItem('otacos-history') || '[]')
        };

        function render() {
            const app = document.getElementById('app');
            if (state.view === 'home') app.innerHTML = renderHome();
            else if (state.view === 'quiz') app.innerHTML = renderQuiz();
            else if (state.view === 'results') app.innerHTML = renderResults();
            else if (state.view === 'history') app.innerHTML = renderHistory();
        }

        function renderHome() {
            return `
                <div class="card">
                    <h1>🌮 Quiz O'Tacos</h1>
                    <p class="subtitle">Groupe AMAUH - Contrôle des connaissances terrain</p>
                    
                    <div class="grid">
                        <div class="form-group">
                            <label>Nom de l'équipier</label>
                            <input type="text" id="employeeName" placeholder="Prénom Nom" value="${state.employeeName}">
                        </div>
                        <div class="form-group">
                            <label>Restaurant</label>
                            <select id="restaurant">
                                <option value="">Sélectionner...</option>
                                ${restaurants.map(r => `<option value="${r}" ${state.restaurant === r ? 'selected' : ''}>${r}</option>`).join('')}
                            </select>
                        </div>
                    </div>

                    <div class="quiz-size">
                        <label>Nombre de questions pour le quiz</label>
                        <div class="size-options">
                            ${[5, 10, 15, 20].map(size => `
                                <button class="size-btn ${state.quizSize === size ? 'active' : ''}" onclick="setQuizSize(${size})">${size}</button>
                            `).join('')}
                        </div>
                        <p class="text-small" style="margin-top: 10px;">Banque actuelle : ${questions.length} questions</p>
                    </div>

                    <button class="btn btn-primary" onclick="startQuiz()">🎲 Générer un Quiz Aléatoire</button>
                </div>

                <div class="grid">
                    <div class="icon-card" onclick="state.view='history'; render();">
                        <div class="icon">📊</div>
                        <h3>Historique</h3>
                        <p class="text-small">${state.history.length} quiz réalisés</p>
                    </div>
                    <div class="icon-card" onclick="exportData()">
                        <div class="icon">💾</div>
                        <h3>Sauvegarder</h3>
                        <p class="text-small">Export JSON</p>
                    </div>
                </div>
            `;
        }

        function renderQuiz() {
            const q = state.currentQuiz[state.currentQuestion];
            const progress = ((state.currentQuestion + 1) / state.currentQuiz.length) * 100;
            
            return `
                <div class="card">
                    <div class="flex-between" style="margin-bottom: 15px;">
                        <span style="font-weight: 600; color: #6b7280;">Question ${state.currentQuestion + 1} / ${state.currentQuiz.length}</span>
                        <span style="font-weight: 600; color: #f97316;">${state.employeeName}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progress}%"></div>
                    </div>
                    
                    <h2>${q.question}</h2>
                    
                    <div>
                        ${q.options.map((opt, idx) => `
                            <button class="option-btn" onclick="answerQuestion('${opt.replace(/'/g, "\\'")}')">
                                <span class="option-letter">${String.fromCharCode(65 + idx)}</span>
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderResults() {
            const r = state.results;
            const icon = r.percentage >= 80 ? '✅' : r.percentage >= 60 ? '⚠️' : '❌';
            
            return `
                <div class="card">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div style="font-size: 5em; margin-bottom: 20px;">${icon}</div>
                        <h1 style="margin-bottom: 10px;">Résultats du Quiz</h1>
                        <p style="color: #6b7280; font-size: 1.1em;">${r.employeeName} - ${r.restaurant}</p>
                        <p class="text-small">${r.date}</p>
                    </div>

                    <div class="score-display">
                        <div class="score-number">${r.percentage}%</div>
                        <div style="font-size: 1.3em;">${r.score} / ${r.total} bonnes réponses</div>
                    </div>

                    <div style="max-height: 400px; overflow-y: auto; margin-bottom: 20px;">
                        ${r.details.map(d => `
                            <div class="result-card ${d.isCorrect ? 'correct' : 'wrong'}">
                                <div style="display: flex; gap: 15px;">
                                    <div style="font-size: 1.5em;">${d.isCorrect ? '✅' : '❌'}</div>
                                    <div style="flex: 1;">
                                        <p style="font-weight: 600; margin-bottom: 8px;">${d.question}</p>
                                        <p class="text-small">Réponse donnée : ${d.userAnswer}</p>
                                        ${!d.isCorrect ? `<p class="text-success" style="margin-top: 5px;">Bonne réponse : ${d.correctAnswer}</p>` : ''}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="grid">
                        <button class="btn btn-primary" onclick="resetQuiz()">Nouveau Quiz</button>
                        <button class="btn btn-secondary" onclick="state.view='history'; render();">Voir l'Historique</button>
                    </div>
                </div>
            `;
        }

        function renderHistory() {
            return `
                <div class="card">
                    <div class="flex-between" style="margin-bottom: 20px;">
                        <h2>Historique des Quiz (${state.history.length})</h2>
                        <button class="btn btn-secondary btn-small" onclick="state.view='home'; render();">Retour</button>
                    </div>

                    ${state.history.length === 0 ? 
                        '<p style="text-align: center; color: #6b7280; padding: 40px;">Aucun quiz réalisé pour le moment</p>' :
                        state.history.map(h => `
                            <div class="question-item">
                                <div class="flex-between">
                                    <div>
                                        <h3>${h.employeeName}</h3>
                                        <p class="text-small">${h.restaurant} - ${h.date}</p>
                                        <p class="text-small" style="margin-top: 5px;">${h.score} / ${h.total} réponses correctes</p>
                                    </div>
                                    <div style="font-size: 2em; font-weight: bold; color: ${h.percentage >= 80 ? '#10b981' : h.percentage >= 60 ? '#f59e0b' : '#ef4444'};">
                                        ${h.percentage}%
                                    </div>
                                </div>
                            </div>
                        `).join('')
                    }
                </div>
            `;
        }

        function setQuizSize(size) {
            state.quizSize = size;
            render();
        }

        function startQuiz() {
            state.employeeName = document.getElementById('employeeName').value;
            state.restaurant = document.getElementById('restaurant').value;

            if (!state.employeeName || !state.restaurant) {
                alert('Veuillez renseigner le nom et le restaurant');
                return;
            }

            const shuffled = [...questions].sort(() => Math.random() - 0.5);
            state.currentQuiz = shuffled.slice(0, state.quizSize);
            state.currentQuestion = 0;
            state.answers = [];
            state.view = 'quiz';
            render();
        }

        function answerQuestion(answer) {
            state.answers.push(answer);
            
            if (state.currentQuestion < state.currentQuiz.length - 1) {
                state.currentQuestion++;
                render();
            } else {
                finishQuiz();
            }
        }

        function finishQuiz() {
            const score = state.answers.filter((ans, idx) => ans === state.currentQuiz[idx].answer).length;
            const percentage = Math.round((score / state.currentQuiz.length) * 100);
            
            state.results = {
                employeeName: state.employeeName,
                restaurant: state.restaurant,
                date: new Date().toLocaleString('fr-BE'),
                score,
                total: state.currentQuiz.length,
                percentage,
                details: state.currentQuiz.map((q, idx) => ({
                    question: q.question,
                    userAnswer: state.answers[idx],
                    correctAnswer: q.answer,
                    isCorrect: state.answers[idx] === q.answer
                }))
            };
            
            state.history.unshift(state.results);
            localStorage.setItem('otacos-history', JSON.stringify(state.history));
            state.view = 'results';
            render();
        }

        function resetQuiz() {
            state.view = 'home';
            state.employeeName = '';
            state.restaurant = '';
            render();
        }

        function exportData() {
            const data = { questions, history: state.history };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'otacos-quiz-backup.json';
            a.click();
        }

        render();
    </script>
</body>
</html>
